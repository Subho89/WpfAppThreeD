<Window x:Class="WpfAppThreeD.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:h="clr-namespace:HelixToolkit.Wpf;assembly=HelixToolkit.Wpf"
        Title="3D Coordinate Viewer" Height="800" Width="1200" WindowStartupLocation="CenterScreen">

    <DockPanel>
        <!-- Control Panel -->
        <StackPanel DockPanel.Dock="Top" Orientation="Vertical" Margin="10">

            <!-- Two column layout -->
            <Grid Margin="5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="7*"/>
                    <!-- 70% -->
                    <ColumnDefinition Width="3*"/>
                    <!-- 30% -->
                </Grid.ColumnDefinitions>

                <!-- Left Column : XYZ + Step + View inside GroupBox -->

                <GroupBox Header="Axis Controls" Grid.Column="0" Margin="5,5,5,0">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                        <Grid Margin="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <!-- LEFT COLUMN: XYZ, Step, Snap, Camera -->
                            <StackPanel Orientation="Vertical" Margin="5" Grid.Column="0">
                                <StackPanel Orientation="Vertical" Margin="10">

                                    <!-- X Axis -->
                                    <StackPanel Orientation="Horizontal" Margin="5">
                                        <Button Content="..." Width="25" Height="22" Margin="0,0,12,0"
                                VerticalAlignment="Center" Click="BtnSetXRange_Click"/>
                                        <TextBlock Text="X:" Width="20" VerticalAlignment="Center"/>
                                        <TextBox x:Name="txtMinX" Width="50" Text="-10" VerticalAlignment="Center" Margin="5,0"
                                 PreviewTextInput="NumberValidationTextBox" IsReadOnly="True" />
                                        <Slider x:Name="sliderX" Width="300" Minimum="-10" Maximum="10" Value="0"
                                ValueChanged="Slider_ValueChanged" Margin="5,0"/>
                                        <TextBox x:Name="txtMaxX" Width="50" Text="10" VerticalAlignment="Center" Margin="5,0"
                                 PreviewTextInput="NumberValidationTextBox" IsReadOnly="True" />
                                        <TextBlock Text="X Value:" VerticalAlignment="Center"/>
                                        <TextBox x:Name="txtX" Width="50" Text="0" Margin="5,0"
                                 PreviewTextInput="NumberValidationTextBox" DataObject.Pasting="TextBox_Pasting"/>
                                        <TextBlock Text="X Expression:" VerticalAlignment="Center"/>
                                        <TextBox x:Name="txtXExp" Width="80" Text="" Margin="5,0" IsReadOnly="True" Background="LightYellow" Foreground="Black" BorderBrush="Gray"/>
                                        <TextBlock Text="X Coordinates:" VerticalAlignment="Center"/>
                                        <TextBox x:Name="txtCoordinateX" Width="80" Text="0" Margin="5,0" IsReadOnly="True" Background="BurlyWood" Foreground="Black" BorderBrush="Gray"/>
                                        <TextBlock Text="Step X:" VerticalAlignment="Center"/>
                                        <TextBox x:Name="txtStepX" Width="80" Text="1" Margin="5,0" IsReadOnly="True"/>
                                        <CheckBox x:Name="chkSnapToGridX" Content="Snap to Grid X Axis" Margin="20,0,0,0" IsChecked="False"/>
                                    </StackPanel>

                                    <!-- Y Axis -->
                                    <StackPanel Orientation="Horizontal" Margin="5">
                                        <Button Content="..." Width="25" Height="22" Margin="0,0,12,0"
                                VerticalAlignment="Center" Click="BtnSetYRange_Click"/>
                                        <TextBlock Text="Y:" Width="20" VerticalAlignment="Center"/>
                                        <TextBox x:Name="txtMinY" Width="50" Text="-10" VerticalAlignment="Center" Margin="5,0"
                                 PreviewTextInput="NumberValidationTextBox" IsReadOnly="True" />
                                        <Slider x:Name="sliderY" Width="300" Minimum="-10" Maximum="10" Value="0"
                                ValueChanged="Slider_ValueChanged" Margin="5,0"/>
                                        <TextBox x:Name="txtMaxY" Width="50" Text="10" VerticalAlignment="Center" Margin="5,0"
                                 PreviewTextInput="NumberValidationTextBox" IsReadOnly="True" />
                                        <TextBlock Text="Y Value:" VerticalAlignment="Center"/>
                                        <TextBox x:Name="txtY" Width="50" Text="0" Margin="5,0"
                                 PreviewTextInput="NumberValidationTextBox"/>
                                        <TextBlock Text="Y Expression:" VerticalAlignment="Center"/>
                                        <TextBox x:Name="txtYExp" Width="80" Text="" Margin="5,0" IsReadOnly="True" Background="LightYellow" Foreground="Black" BorderBrush="Gray"/>
                                        <TextBlock Text="Y Coordinates:" VerticalAlignment="Center"/>
                                        <TextBox x:Name="txtCoordinateY" Width="80" Text="0" Margin="5,0" IsReadOnly="True" Background="BurlyWood" Foreground="Black" BorderBrush="Gray"/>
                                        <TextBlock Text="Step Y:" VerticalAlignment="Center"/>
                                        <TextBox x:Name="txtStepY" Width="80" Text="1" Margin="5,0" IsReadOnly="True"/>
                                        <CheckBox x:Name="chkSnapToGridY" Content="Snap to Grid Y Axis" Margin="20,0,0,0" IsChecked="False"/>
                                    </StackPanel>

                                    <!-- Z Axis -->
                                    <StackPanel Orientation="Horizontal" Margin="5">
                                        <Button Content="..." Width="25" Height="22" Margin="0,0,12,0"
                                VerticalAlignment="Center" Click="BtnSetZRange_Click"/>
                                        <TextBlock Text="Z:" Width="20" VerticalAlignment="Center"/>
                                        <TextBox x:Name="txtMinZ" Width="50" Text="-10" VerticalAlignment="Center" Margin="5,0"
                                 PreviewTextInput="NumberValidationTextBox" IsReadOnly="True"/>
                                        <Slider x:Name="sliderZ" Width="300" Minimum="-10" Maximum="10" Value="0"
                                ValueChanged="Slider_ValueChanged" Margin="5,0"/>
                                        <TextBox x:Name="txtMaxZ" Width="50" Text="10" VerticalAlignment="Center" Margin="5,0"
                                 PreviewTextInput="NumberValidationTextBox" IsReadOnly="True"/>
                                        <TextBlock Text="Z Value:" VerticalAlignment="Center"/>
                                        <TextBox x:Name="txtZ" Width="50" Text="0" Margin="5,0"
                                 PreviewTextInput="NumberValidationTextBox"/>
                                        <TextBlock Text="Z Expression:" VerticalAlignment="Center"/>
                                        <TextBox x:Name="txtZExp" Width="80" Text="" Margin="5,0" IsReadOnly="True" Background="LightYellow" Foreground="Black" BorderBrush="Gray"/>
                                        <TextBlock Text="Z Coordinates:" VerticalAlignment="Center"/>
                                        <TextBox x:Name="txtCoordinateZ" Width="80" Text="0" Margin="5,0" IsReadOnly="True" Background="BurlyWood" Foreground="Black" BorderBrush="Gray"/>
                                        <TextBlock Text="Step Z:" VerticalAlignment="Center"/>
                                        <TextBox x:Name="txtStepZ" Width="80" Text="1" Margin="5,0" IsReadOnly="True"/>
                                        <CheckBox x:Name="chkSnapToGridZ" Content="Snap to Grid Z Axis" Margin="20,0,0,0" IsChecked="False"/>
                                    </StackPanel>
                                </StackPanel>
                            </StackPanel>
                        </Grid>
                    </ScrollViewer>
                </GroupBox>



                <!-- Right Column : Axis Controls -->
                <GroupBox Header="View Controls" Grid.Column="1" Margin="5,5,5,0">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                    <StackPanel Orientation="Vertical" Margin="5" Grid.Column="1">

                        <!-- Font Size -->
                        <Grid Margin="5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="80"/>
                                <!-- Label -->
                                <ColumnDefinition Width="50"/>
                                <!-- Min -->
                                <ColumnDefinition Width="*"/>
                                <!-- Slider -->
                                <ColumnDefinition Width="50"/>
                                <!-- Max -->
                            </Grid.ColumnDefinitions>

                            <TextBlock Text="Font Size:" VerticalAlignment="Center" Grid.Column="0"/>
                            <TextBox x:Name="txtFontMin" Grid.Column="1" Text="5" PreviewTextInput="NumberValidationTextBox" Margin="5,0"/>
                            <Slider x:Name="sliderFontSize" Grid.Column="2" Minimum="5" Maximum="30" Value="12"
TickFrequency="1" IsSnapToTickEnabled="false" Margin="5,0"/>
                            <TextBox x:Name="txtFontMax" Grid.Column="3" Text="30" PreviewTextInput="NumberValidationTextBox" Margin="5,0"/>
                        </Grid>

                        <!-- Point Size -->
                        <Grid Margin="5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="80"/>
                                <!-- Label -->
                                <ColumnDefinition Width="50"/>
                                <!-- Min -->
                                <ColumnDefinition Width="*"/>
                                <!-- Slider -->
                                <ColumnDefinition Width="50"/>
                                <!-- Max -->
                            </Grid.ColumnDefinitions>

                            <TextBlock Text="Point Size:" VerticalAlignment="Center" Grid.Column="0"/>
                            <TextBox x:Name="txtPointMin" Grid.Column="1" Text="0.1" PreviewTextInput="NumberValidationTextBox" Margin="5,0"/>
                            <Slider x:Name="sliderPointSize" Grid.Column="2" Minimum="0.1" Maximum="1" Value="0.2"
TickFrequency="0.1" IsSnapToTickEnabled="false" Margin="5,0"/>
                            <TextBox x:Name="txtPointMax" Grid.Column="3" Text="1" PreviewTextInput="NumberValidationTextBox" Margin="5,0"/>
                        </Grid>
                        <!-- Step + Snap to Grid -->
                        <!--<StackPanel Orientation="Horizontal" Margin="5">
                            --><!--<TextBlock Text="Step:" VerticalAlignment="Center"/>-->
                            <!--<TextBox x:Name="txtStep" Width="50" Text="1" Margin="5,0"/>--><!--
                            <CheckBox x:Name="chkSnapToGrid" Content="Snap to Grid" Margin="20,0,0,0" IsChecked="False"/>
                        </StackPanel>-->

                        <!-- Camera Switch -->
                        <StackPanel Orientation="Horizontal" Margin="5">
                            <TextBlock Text="View:" VerticalAlignment="Center"/>
                            <Button x:Name="btnSwitchCamera" Content="Switch to Ortho" Margin="10,0,0,0" Click="SwitchCamera_Click"/>
                        </StackPanel>

                    </StackPanel>
                    </ScrollViewer>
                </GroupBox>
            </Grid>
        </StackPanel>

        <!-- 3D View -->
        <h:HelixViewport3D x:Name="view1" ShowCoordinateSystem="True"
                           ShowViewCube="True" ZoomExtentsWhenLoaded="True"
                           MouseLeftButtonDown="view1_MouseLeftButtonDown"
                           MouseMove="view1_MouseMove"
                           MouseLeftButtonUp="view1_MouseLeftButtonUp">
            <h:DefaultLights/>
        </h:HelixViewport3D>
    </DockPanel>
</Window>
